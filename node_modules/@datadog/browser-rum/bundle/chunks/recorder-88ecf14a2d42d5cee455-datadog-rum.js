(self.webpackChunk_datadog_browser_rum=self.webpackChunk_datadog_browser_rum||[]).push([["recorder"],{132(t,e,n){n.r(e),n.d(e,{startRecording:()=>it});var o=n(534),r=n(725),s=n(362),i=n(769),a=n(300),c=n(474),u=n(197),l=n(877),d=n(752);const f=new WeakMap;function p(t){return f.has(t)}function h(t){return f.get(t)}function m(t,e){const n=t.tagName,o=t.value;if((0,d.Ie)(t,e)){const e=t.type;if("INPUT"===n&&("button"===e||"submit"===e||"reset"===e))return o;if(!o||"OPTION"===n)return;return d.o}return"OPTION"===n||"SELECT"===n?t.value:"INPUT"===n||"TEXTAREA"===n?o:void 0}const g=/url\((?:(')([^']*)'|(")([^"]*)"|([^)]*))\)/gm,y=/^[A-Za-z]+:|^\/\//,v=/^["']?data:.*,/i,w=/[^a-z1-6-_]/;function N(t){const e=t.toLowerCase().trim();return w.test(e)?"div":e}function S(t,e){return`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${t}' height='${e}' style='background-color:silver'%3E%3C/svg%3E`}function E(t){if(void 0!==t&&0!==t.length)return t.map(t=>{const e=t.cssRules||t.rules;return{cssRules:Array.from(e,t=>t.cssText),disabled:t.disabled||void 0,media:t.media.length>0?Array.from(t.media):void 0}})}var b=n(760);function T(t,e,n,o){if(e===d.$m.HIDDEN)return null;const r=t.getAttribute(n);if(e===d.$m.MASK&&n!==d.NT&&!d.yF.includes(n)&&n!==o.actionNameAttribute){const e=t.tagName;switch(n){case"title":case"alt":case"placeholder":return d.o}if("IMG"===e&&("src"===n||"srcset"===n)){const e=t;if(e.naturalWidth>0)return S(e.naturalWidth,e.naturalHeight);const{width:n,height:o}=t.getBoundingClientRect();return n>0||o>0?S(n,o):d.eT}if("SOURCE"===e&&("src"===n||"srcset"===n))return d.eT;if("A"===e&&"href"===n)return d.o;if(r&&n.startsWith("data-"))return d.o;if("IFRAME"===e&&"srcdoc"===n)return d.o}return r&&"string"==typeof r?(0,d.ei)(r,1e6):r}function x(t){if(!t)return null;let e;try{e=t.rules||t.cssRules}catch(t){}return e?(n=Array.from(e,(0,b.nr)()?C:I).join(""),o=t.href,n.replace(g,(t,e,n,r,s,i)=>{const a=n||s||i;if(!o||!a||y.test(a)||v.test(a))return t;const c=e||r||"";return`url(${c}${function(t,e){try{return(0,l.c$)(t,e).href}catch(e){return t}}(a,o)}${c})`})):null;var n,o}function C(t){if(function(t){return"selectorText"in t}(t)&&t.selectorText.includes(":")){const e=/(\[[\w-]+[^\\])(:[^\]]+\])/g;return t.cssText.replace(e,"$1\\$2")}return I(t)}function I(t){return function(t){return"styleSheet"in t}(t)&&x(t.styleSheet)||t.cssText}function R(t,e){const n=function(t,e){switch(t.nodeType){case t.DOCUMENT_NODE:return function(t,e){return{type:0,childNodes:_(t,e),adoptedStyleSheets:E(t.adoptedStyleSheets)}}(t,e);case t.DOCUMENT_FRAGMENT_NODE:return function(t,e){const n=(0,d.p_)(t);return n&&e.serializationContext.shadowRootsController.addShadowRoot(t),{type:11,childNodes:_(t,e),isShadowRoot:n,adoptedStyleSheets:n?E(t.adoptedStyleSheets):void 0}}(t,e);case t.DOCUMENT_TYPE_NODE:return{type:1,name:(n=t).name,publicId:n.publicId,systemId:n.systemId};case t.ELEMENT_NODE:return function(t,e){const n=N(t.tagName),o="svg"===(s=t).tagName||s instanceof SVGElement||void 0,r=(0,d.jR)((0,d.dT)(t),e.parentNodePrivacyLevel);var s;if(r===d.$m.HIDDEN){const{width:e,height:r}=t.getBoundingClientRect();return{type:2,tagName:n,attributes:{rr_width:e+"px",rr_height:r+"px",[d.NT]:d.Wd},childNodes:[],isSVG:o}}if(r===d.$m.IGNORE)return;const i=function(t,e,n){if(e===d.$m.HIDDEN)return{};const o={},r=N(t.tagName),s=t.ownerDocument;for(let r=0;r<t.attributes.length;r+=1){const s=t.attributes.item(r).name,i=T(t,e,s,n.configuration);null!==i&&(o[s]=i)}if(t.value&&("textarea"===r||"select"===r||"option"===r||"input"===r)){const n=m(t,e);void 0!==n&&(o.value=n)}if("option"===r&&e===d.$m.ALLOW){const e=t;e.selected&&(o.selected=e.selected)}if("link"===r){const e=Array.from(s.styleSheets).find(e=>e.href===t.href),n=x(e);n&&e&&(o._cssText=n)}if("style"===r&&t.sheet){const e=x(t.sheet);e&&(o._cssText=e)}const i=t;if("input"!==r||"radio"!==i.type&&"checkbox"!==i.type||(e===d.$m.ALLOW?o.checked=!!i.checked:(0,d.Ie)(i,e)&&delete o.checked),"audio"===r||"video"===r){const e=t;o.rr_mediaState=e.paused?"paused":"played"}let a,c;const u=n.serializationContext;switch(u.status){case 0:a=Math.round(t.scrollTop),c=Math.round(t.scrollLeft),(a||c)&&u.elementsScrollPositions.set(t,{scrollTop:a,scrollLeft:c});break;case 1:u.elementsScrollPositions.has(t)&&({scrollTop:a,scrollLeft:c}=u.elementsScrollPositions.get(t))}return c&&(o.rr_scrollLeft=c),a&&(o.rr_scrollTop=a),o}(t,r,e);let a=[];if((0,d.wR)(t)&&"style"!==n){let o;o=e.parentNodePrivacyLevel===r&&e.ignoreWhiteSpace===("head"===n)?e:{...e,parentNodePrivacyLevel:r,ignoreWhiteSpace:"head"===n},a=_(t,o)}return{type:2,tagName:n,attributes:i,childNodes:a,isSVG:o}}(t,e);case t.TEXT_NODE:return function(t,e){const n=(0,d.rf)(t,e.ignoreWhiteSpace||!1,e.parentNodePrivacyLevel);if(void 0!==n)return{type:3,textContent:n}}(t,e);case t.CDATA_SECTION_NODE:return{type:4,textContent:""}}var n}(t,e);if(!n)return null;const o=h(t)||L++,r=n;return r.id=o,function(t,e){f.set(t,e)}(t,o),e.serializedNodeIds&&e.serializedNodeIds.add(o),r}let L=1;function _(t,e){const n=[];return(0,d.wI)(t,t=>{const o=R(t,e);o&&n.push(o)}),n}function O(t,e,n){return R(t,{serializationContext:n,parentNodePrivacyLevel:e.defaultPrivacyLevel,configuration:e})}function M(t){return!!t.changedTouches}function D(t){return!0===t.composed&&(0,d.XS)(t.target)?t.composedPath()[0]:t.target}const P=t=>({scale:t.scale,offsetLeft:t.offsetLeft,offsetTop:t.offsetTop,pageLeft:t.pageLeft,pageTop:t.pageTop,height:t.height,width:t.width});var $=n(749);function A(t,e){return{data:{source:t,...e},type:3,timestamp:(0,$.nx)()}}function k(t,e){const{throttled:n,cancel:o}=(0,c.n)(t=>{const n=D(t);if(p(n)){const o=H(t);if(!o)return;const r={id:h(n),timeOffset:0,x:o.x,y:o.y};e(A(M(t)?6:1,{positions:[r]}))}},50,{trailing:!1}),{stop:r}=(0,u.l)(t,document,["mousemove","touchmove"],n,{capture:!0,passive:!0});return{stop(){r(),o()}}}function H(t){let{clientX:e,clientY:n}=M(t)?t.changedTouches[0]:t;if(window.visualViewport){const{visualViewportX:t,visualViewportY:o}=((t,e)=>{const n=window.visualViewport,o={layoutViewportX:t,layoutViewportY:e,visualViewportX:t,visualViewportY:e};return n?(function(t){return Math.abs(t.pageTop-t.offsetTop-window.scrollY)>25||Math.abs(t.pageLeft-t.offsetLeft-window.scrollX)>25}(n)?(o.layoutViewportX=Math.round(t+n.offsetLeft),o.layoutViewportY=Math.round(e+n.offsetTop)):(o.visualViewportX=Math.round(t-n.offsetLeft),o.visualViewportY=Math.round(e-n.offsetTop)),o):o})(e,n);e=t,n=o}if(Number.isFinite(e)&&Number.isFinite(n))return{x:e,y:n};t.isTrusted&&(0,o.A2)("mouse/touch event without x/y")}const V={pointerup:0,mousedown:1,click:2,contextmenu:3,dblclick:4,focus:5,blur:6,touchstart:7,touchend:9};function z(t,e,n){return(0,u.l)(t,document,Object.keys(V),o=>{const r=D(o);if((0,d.PJ)(r,t.defaultPrivacyLevel)===d.$m.HIDDEN||!p(r))return;const s=h(r),i=V[o.type];let a;if(6!==i&&5!==i){const t=H(o);if(!t)return;a={id:s,type:i,x:t.x,y:t.y}}else a={id:s,type:i};const c={id:n.getIdForEvent(o),...A(2,a)};e(c)},{capture:!0,passive:!0})}function W(t,e,n,o=document){const{throttled:r,cancel:s}=(0,c.n)(o=>{const r=D(o);if(!r||(0,d.PJ)(r,t.defaultPrivacyLevel)===d.$m.HIDDEN||!p(r))return;const s=h(r),i=r===document?{scrollTop:(0,d.zL)(),scrollLeft:(0,d.Gn)()}:{scrollTop:Math.round(r.scrollTop),scrollLeft:Math.round(r.scrollLeft)};n.set(r,i),e(A(3,{id:s,x:i.scrollLeft,y:i.scrollTop}))},100),{stop:i}=(0,u.q)(t,o,"scroll",r,{capture:!0,passive:!0});return{stop(){i(),s()}}}function G(t,e){const n=(0,d.g1)(t).subscribe(t=>{e(A(4,t))});return{stop(){n.unsubscribe()}}}function B(t,e){const n=window.visualViewport;if(!n)return{stop:c.l};const{throttled:o,cancel:r}=(0,c.n)(()=>{e({data:P(n),type:8,timestamp:(0,$.nx)()})},200,{trailing:!1}),{stop:s}=(0,u.l)(t,n,["resize","scroll"],o,{capture:!0,passive:!0});return{stop(){s(),r()}}}function F(t,e){return(0,u.l)(t,document,["play","pause"],n=>{const o=D(n);o&&(0,d.PJ)(o,t.defaultPrivacyLevel)!==d.$m.HIDDEN&&p(o)&&e(A(7,{id:h(o),type:"play"===n.type?0:1}))},{capture:!0,passive:!0})}var J=n(801);function X(t){function e(t,e){t&&p(t.ownerNode)&&e(h(t.ownerNode))}const n=[(0,J.H)(CSSStyleSheet.prototype,"insertRule",({target:n,parameters:[o,r]})=>{e(n,e=>t(A(8,{id:e,adds:[{rule:o,index:r}]})))}),(0,J.H)(CSSStyleSheet.prototype,"deleteRule",({target:n,parameters:[o]})=>{e(n,e=>t(A(8,{id:e,removes:[{index:o}]})))})];function o(o){n.push((0,J.H)(o.prototype,"insertRule",({target:n,parameters:[o,r]})=>{e(n.parentStyleSheet,e=>{const s=Y(n);s&&(s.push(r||0),t(A(8,{id:e,adds:[{rule:o,index:s}]})))})}),(0,J.H)(o.prototype,"deleteRule",({target:n,parameters:[o]})=>{e(n.parentStyleSheet,e=>{const r=Y(n);r&&(r.push(o),t(A(8,{id:e,removes:[{index:r}]})))})}))}return"undefined"!=typeof CSSGroupingRule?o(CSSGroupingRule):(o(CSSMediaRule),o(CSSSupportsRule)),{stop(){n.forEach(t=>t.stop())}}}function Y(t){const e=[];let n=t;for(;n.parentRule;){const t=Array.from(n.parentRule.cssRules).indexOf(n);e.unshift(t),n=n.parentRule}if(!n.parentStyleSheet)return;const o=Array.from(n.parentStyleSheet.cssRules).indexOf(n);return e.unshift(o),e}function U(t,e){return(0,u.l)(t,window,["focus","blur"],()=>{e({data:{has_focus:document.hasFocus()},type:6,timestamp:(0,$.nx)()})})}function j(t,e,n){const o=t.subscribe(12,t=>{var o,r;t.rawRumEvent.type===d.bb.ACTION&&t.rawRumEvent.action.type===d.X2.CLICK&&(null===(r=null===(o=t.rawRumEvent.action.frustration)||void 0===o?void 0:o.type)||void 0===r?void 0:r.length)&&"events"in t.domainContext&&t.domainContext.events&&t.domainContext.events.length&&e({timestamp:t.rawRumEvent.date,type:9,data:{frustrationTypes:t.rawRumEvent.action.frustration.type,recordIds:t.domainContext.events.map(t=>n.getIdForEvent(t))}})});return{stop(){o.unsubscribe()}}}function K(t,e){const n=t.subscribe(5,()=>{e({timestamp:(0,$.nx)(),type:7})});return{stop(){n.unsubscribe()}}}function q(t,e,n=document){const o=t.defaultPrivacyLevel,r=new WeakMap,s=n!==document,{stop:i}=(0,u.l)(t,n,s?["change"]:["input","change"],t=>{const e=D(t);(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement||e instanceof HTMLSelectElement)&&l(e)},{capture:!0,passive:!0});let a;if(s)a=c.l;else{const t=[(0,J.t)(HTMLInputElement.prototype,"value",l),(0,J.t)(HTMLInputElement.prototype,"checked",l),(0,J.t)(HTMLSelectElement.prototype,"value",l),(0,J.t)(HTMLTextAreaElement.prototype,"value",l),(0,J.t)(HTMLSelectElement.prototype,"selectedIndex",l)];a=()=>{t.forEach(t=>t.stop())}}return{stop(){a(),i()}};function l(t){const e=(0,d.PJ)(t,o);if(e===d.$m.HIDDEN)return;const n=t.type;let r;if("radio"===n||"checkbox"===n){if((0,d.Ie)(t,e))return;r={isChecked:t.checked}}else{const n=m(t,e);if(void 0===n)return;r={text:n}}f(t,r);const s=t.name;"radio"===n&&s&&t.checked&&document.querySelectorAll(`input[type="radio"][name="${CSS.escape(s)}"]`).forEach(e=>{e!==t&&f(e,{isChecked:!1})})}function f(t,n){if(!p(t))return;const o=r.get(t);o&&o.text===n.text&&o.isChecked===n.isChecked||(r.set(t,n),e(A(5,{id:h(t),...n})))}}var Z=n(315),Q=n(981);function tt(t,e,n,o){const r=(0,d.W3)();if(!r)return{stop:c.l,flush:c.l};const s=function(){let o=c.l,r=[];function s(){o(),function(t,e,n,o){const r=new Map;t.filter(t=>"childList"===t.type).forEach(t=>{t.removedNodes.forEach(t=>{et(t,o.removeShadowRoot)})});const s=t.filter(t=>t.target.isConnected&&function(t){let e=t;for(;e;){if(!p(e)&&!(0,d.p_)(e))return!1;e=(0,d.$4)(e)}return!0}(t.target)&&(0,d.PJ)(t.target,n.defaultPrivacyLevel,r)!==d.$m.HIDDEN),{adds:i,removes:a,hasBeenSerialized:c}=function(t,e,n,o){const r=new Set,s=new Map;for(const e of t)e.addedNodes.forEach(t=>{r.add(t)}),e.removedNodes.forEach(t=>{r.has(t)||s.set(t,e.target),r.delete(t)});const i=Array.from(r);i.sort((t,e)=>{const n=t.compareDocumentPosition(e);return n&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:n&Node.DOCUMENT_POSITION_CONTAINS||n&Node.DOCUMENT_POSITION_FOLLOWING?1:n&Node.DOCUMENT_POSITION_PRECEDING?-1:0});const a=new Set,c=[];for(const t of i){if(l(t))continue;const r=(0,d.PJ)(t.parentNode,e.defaultPrivacyLevel,o);if(r===d.$m.HIDDEN||r===d.$m.IGNORE)continue;const s=R(t,{serializedNodeIds:a,parentNodePrivacyLevel:r,serializationContext:{status:2,shadowRootsController:n},configuration:e});if(!s)continue;const i=(0,d.$4)(t);c.push({nextId:f(t),parentId:h(i),node:s})}const u=[];return s.forEach((t,e)=>{p(e)&&u.push({parentId:h(t),id:h(e)})}),{adds:c,removes:u,hasBeenSerialized:l};function l(t){return p(t)&&a.has(h(t))}function f(t){let e=t.nextSibling;for(;e;){if(p(e))return h(e);e=e.nextSibling}return null}}(s.filter(t=>"childList"===t.type),n,o,r),u=function(t,e,n){var o;const r=[],s=new Set,i=t.filter(t=>!s.has(t.target)&&(s.add(t.target),!0));for(const t of i){if(t.target.textContent===t.oldValue)continue;const s=(0,d.PJ)((0,d.$4)(t.target),e.defaultPrivacyLevel,n);s!==d.$m.HIDDEN&&s!==d.$m.IGNORE&&r.push({id:h(t.target),value:null!==(o=(0,d.rf)(t.target,!1,s))&&void 0!==o?o:null})}return r}(s.filter(t=>"characterData"===t.type&&!c(t.target)),n,r),l=function(t,e,n){const o=[],r=new Map,s=t.filter(t=>{const e=r.get(t.target);return!(e&&e.has(t.attributeName)||(e?e.add(t.attributeName):r.set(t.target,new Set([t.attributeName])),0))}),i=new Map;for(const t of s){if(t.target.getAttribute(t.attributeName)===t.oldValue)continue;const r=(0,d.PJ)(t.target,e.defaultPrivacyLevel,n),s=T(t.target,r,t.attributeName,e);let a;if("value"===t.attributeName){const e=m(t.target,r);if(void 0===e)continue;a=e}else a="string"==typeof s?s:null;let c=i.get(t.target);c||(c={id:h(t.target),attributes:{}},o.push(c),i.set(t.target,c)),c.attributes[t.attributeName]=a}return o}(s.filter(t=>"attributes"===t.type&&!c(t.target)),n,r);(u.length||l.length||a.length||i.length)&&e(A(0,{adds:i,removes:a,texts:u,attributes:l}))}(r.concat(i.takeRecords()),t,e,n),r=[]}const{throttled:a,cancel:u}=(0,c.n)(s,16,{leading:!1});return{addMutations(t){0===r.length&&(o=(0,Q.BB)(a,{timeout:100})),r.push(...t)},flush:s,stop(){o(),u()}}}(),i=new r((0,Z.dm)(s.addMutations));return i.observe(o,{attributeOldValue:!0,attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),{stop(){i.disconnect(),s.stop()},flush(){s.flush()}}}function et(t,e){(0,d.XS)(t)&&e(t.shadowRoot),(0,d.wI)(t,t=>et(t,e))}var nt=n(887),ot=n(636);function rt({context:t,creationReason:e,encoder:n}){let o=0;const r=t.view.id,s={start:1/0,end:-1/0,creation_reason:e,records_count:0,has_full_snapshot:!1,index_in_view:a.K_(r),source:"browser",...t};return a.H5(r),{addRecord(t,e){s.start=Math.min(s.start,t.timestamp),s.end=Math.max(s.end,t.timestamp),s.records_count+=1,s.has_full_snapshot||(s.has_full_snapshot=2===t.type);const r=n.isEmpty?'{"records":[':",";n.write(r+JSON.stringify(t),t=>{o+=t,e(o)})},flush(t){if(n.isEmpty)throw Error("Empty segment flushed");n.write(`],${JSON.stringify(s).slice(1)}\n`),n.finish(e=>{a.L7(s.view.id,e.rawBytesCount),t(s,e)})}}}const st=5*$.OY;function it(t,e,n,c,u,l){const f=[],p=l||(0,r.sA)(e.sessionReplayEndpointBuilder,6e4,e=>{t.notify(14,{error:e}),(0,o.A2)("Error reported to customer",{"error.message":e.message})});let h;if((0,s.d0)())({addRecord:h}=function(t){const e=(0,s.Y9)();return{addRecord(n){const o=t.findView();e.send("record",n,o.id)}}}(c));else{const o=function(t,e,n,o,r,s){return function(t,r,s,i){let a={status:0,nextSegmentCreationReason:"init"};const{unsubscribe:c}=t.subscribe(2,()=>{l("view_change")}),{unsubscribe:u}=t.subscribe(11,t=>{l(t.reason)});function l(t){1===a.status&&(a.segment.flush((e,n)=>{const o=function(t,e,n){const o=new FormData;o.append("segment",new Blob([t],{type:"application/octet-stream"}),`${e.session.id}-${e.start}`);const r={raw_segment_size:n,compressed_segment_size:t.byteLength,...e},s=JSON.stringify(r);return o.append("event",new Blob([s],{type:"application/json"})),{data:o,bytesCount:t.byteLength}}(n.output,e,n.rawBytesCount);(0,nt.Kp)(t)?s.sendOnExit(o):s.send(o)}),(0,ot.DJ)(a.expirationTimeoutId)),a="stop"!==t?{status:0,nextSegmentCreationReason:t}:{status:2}}return{addRecord(t){if(2!==a.status){if(0===a.status){const t=function(t,e,n){const o=e.findTrackedSession(),r=n.findView();if(o&&r)return{application:{id:t},session:{id:o.id},view:{id:r.id}}}(e.applicationId,n,o);if(!t)return;a={status:1,segment:rt({encoder:i,context:t,creationReason:a.nextSegmentCreationReason}),expirationTimeoutId:(0,ot.wg)(()=>{l("segment_duration_limit")},st)}}a.segment.addRecord(t,t=>{t>6e4&&l("segment_bytes_limit")})}},stop(){l("stop"),c(),u()}}}(t,0,r,s)}(t,e,n,c,p,u);h=o.addRecord,f.push(o.stop)}const{stop:m}=function(t){const{emit:e,configuration:n,lifeCycle:o}=t;if(!e)throw Error("emit function is required");const r=n=>{e(n),(0,i.b)("record",{record:n});const o=t.viewHistory.findView();a.$1(o.id)},s=function(){const t=new WeakMap;return{set(e,n){(e!==document||document.scrollingElement)&&t.set(e===document?document.scrollingElement:e,n)},get(e){return t.get(e)},has(e){return t.has(e)}}}(),c=((t,e,n)=>{const o=new Map,r={addShadowRoot(s){if(o.has(s))return;const i=tt(e,t,r,s),a=q(t,e,s),c=W(t,e,n,s);o.set(s,{flush:()=>i.flush(),stop(){i.stop(),a.stop(),c.stop()}})},removeShadowRoot(t){const e=o.get(t);e&&(e.stop(),o.delete(t))},stop(){o.forEach(({stop:t})=>t())},flush(){o.forEach(({flush:t})=>t())}};return r})(n,r,s),{stop:u}=function(t,e,n,o,r,s){const i=(n=(0,$.nx)(),r={status:0,elementsScrollPositions:t,shadowRootsController:e})=>{const{width:s,height:i}=(0,d.pB)(),a=[{data:{height:i,href:window.location.href,width:s},type:4,timestamp:n},{data:{has_focus:document.hasFocus()},type:6,timestamp:n},{data:{node:O(document,o,r),initialOffset:{left:(0,d.Gn)(),top:(0,d.zL)()}},type:2,timestamp:n}];return window.visualViewport&&a.push({data:P(window.visualViewport),type:8,timestamp:n}),a};s(i());const{unsubscribe:a}=n.subscribe(2,n=>{r(),s(i(n.startClocks.timeStamp,{shadowRootsController:e,status:1,elementsScrollPositions:t}))});return{stop:a}}(s,c,o,n,l,t=>t.forEach(t=>r(t)));function l(){c.flush(),p.flush()}const f=function(){const t=new WeakMap;let e=1;return{getIdForEvent(n){return t.has(n)||t.set(n,e++),t.get(n)}}}(),p=tt(r,n,c,document),h=[p,k(n,r),z(n,r,f),W(n,r,s,document),G(n,r),q(n,r),F(n,r),X(r),U(n,r),B(n,r),j(o,r,f),K(o,t=>{l(),r(t)})];return{stop(){c.stop(),h.forEach(t=>t.stop()),u()},flushMutations:l,shadowRootsController:c}}({emit:h,configuration:e,lifeCycle:t,viewHistory:c});return f.push(m),{stop(){f.forEach(t=>t())}}}}}]);